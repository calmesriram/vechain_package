"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const V = require("validator-ts");
var Payload;
(function (Payload) {
    const baseScheme = {
        jsonrpc: v => v === '2.0' ? '' : `expected '2.0'`,
        id: V.nullable(V.optional(v => (typeof v === 'number' || typeof v === 'string') ? '' : 'expected number or string')),
        method: () => '',
        params: () => '',
        result: () => '',
        error: () => ''
    };
    const requestScheme = Object.assign(Object.assign({}, baseScheme), { method: V.optional(v => (typeof v === 'string' && v.length > 0) ? '' : 'expected string'), params: v => Array.isArray(v) ? '' : 'expected array' });
    const responseScheme = Object.assign(Object.assign({}, baseScheme), { error: V.optional({
            code: v => typeof v === 'number' ? '' : 'expected number',
            message: v => typeof v === 'string' ? '' : 'expected string',
            data: () => ''
        }) });
    /** validate payload */
    function validate(payload, isRequest) {
        V.validate(payload, isRequest ? requestScheme : responseScheme);
    }
    Payload.validate = validate;
})(Payload = exports.Payload || (exports.Payload = {}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGF5bG9hZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9wYXlsb2FkLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsa0NBQWlDO0FBb0JqQyxJQUFpQixPQUFPLENBOEJ2QjtBQTlCRCxXQUFpQixPQUFPO0lBQ3BCLE1BQU0sVUFBVSxHQUFzQjtRQUNsQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLGdCQUFnQjtRQUNqRCxFQUFFLEVBQUUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUNyQixDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssUUFBUSxJQUFJLE9BQU8sQ0FBQyxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLDJCQUEyQixDQUFDLENBQUM7UUFDOUYsTUFBTSxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUU7UUFDaEIsTUFBTSxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUU7UUFDaEIsTUFBTSxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUU7UUFDaEIsS0FBSyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUU7S0FDbEIsQ0FBQTtJQUVELE1BQU0sYUFBYSxtQ0FDWixVQUFVLEtBQ2IsTUFBTSxFQUFFLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxLQUFLLFFBQVEsSUFBSSxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLEVBQ3pGLE1BQU0sRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsZ0JBQWdCLEdBQ3hELENBQUE7SUFFRCxNQUFNLGNBQWMsbUNBQ2IsVUFBVSxLQUNiLEtBQUssRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDO1lBQ2QsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLGlCQUFpQjtZQUN6RCxPQUFPLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsS0FBSyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsaUJBQWlCO1lBQzVELElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFO1NBQ2pCLENBQUMsR0FDTCxDQUFBO0lBRUQsdUJBQXVCO0lBQ3ZCLFNBQWdCLFFBQVEsQ0FBQyxPQUFnQixFQUFFLFNBQWtCO1FBQ3pELENBQUMsQ0FBQyxRQUFRLENBQUMsT0FBTyxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsQ0FBQTtJQUNuRSxDQUFDO0lBRmUsZ0JBQVEsV0FFdkIsQ0FBQTtBQUNMLENBQUMsRUE5QmdCLE9BQU8sR0FBUCxlQUFPLEtBQVAsZUFBTyxRQThCdkIifQ==